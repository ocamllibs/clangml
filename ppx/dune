(library
  (name clangml_ppx)
  (public_name clangml.ppx)
  (kind ppx_rewriter)
  (preprocess (staged_pps ppxlib.metaquot))
  (library_flags (-linkall))
; +warning 32: Unused value declaration.
; +warning 34: Unused type declaration.
; -warning 40: Constructor or label name used out of scope. (OCaml <=4.06.0)
  (flags -open Stdcompat -w +32+34-40)
  (libraries ppxlib.metaquot clangml clangml.lift stdcompat clangml.config))

(ocamllex ppx_lexer)